# LinK HOUSE OS 詳細ロードマップ

**最終更新**: 2025-11-28
**ゴール**: LinK社内で実運用 → 商品化

---

## Phase A: 土台固め（セキュリティ・基盤）

### A-1. Clerk認証設定
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| A-1-1 | Clerkアカウント作成 | clerk.com でアカウント作成 | 2分 | ⬜ |
| A-1-2 | Clerkアプリケーション作成 | "LinK HOUSE OS" アプリを作成 | 3分 | ⬜ |
| A-1-3 | 認証方式設定 | メール/パスワード、Google OAuth等 | 5分 | ⬜ |
| A-1-4 | 環境変数取得 | PUBLISHABLE_KEY, SECRET_KEY | 2分 | ⬜ |
| A-1-5 | ローカル環境変数設定 | .env.local に追記 | 2分 | ⬜ |
| A-1-6 | Vercel環境変数設定 | VercelダッシュボードでENV追加 | 3分 | ⬜ |
| A-1-7 | ミドルウェア動作確認 | 認証必須ルートの確認 | 5分 | ⬜ |
| A-1-8 | サインイン画面確認 | /sign-in ページの動作確認 | 3分 | ⬜ |
| A-1-9 | サインアップ画面確認 | /sign-up ページの動作確認 | 3分 | ⬜ |
| A-1-10 | 認証後リダイレクト確認 | ダッシュボードへの遷移確認 | 2分 | ⬜ |

### A-2. ユーザー管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| A-2-1 | 管理者ユーザー作成 | 吉野さんのClerkアカウント | 3分 | ⬜ |
| A-2-2 | Clerk→DB連携確認 | Webhook or 初回ログイン時の同期 | 10分 | ⬜ |
| A-2-3 | ユーザー権限設定 | admin/manager/staff ロール | 5分 | ⬜ |
| A-2-4 | 追加ユーザー招待 | 他の社員を招待（必要時） | 5分 | ⬜ |

### A-3. 会社データ整備
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| A-3-1 | 会社情報更新 | 正式名称、住所、電話、メール | 5分 | ⬜ |
| A-3-2 | 建設業許可番号 | 正式な許可番号を登録 | 2分 | ⬜ |
| A-3-3 | 会社ロゴ設定 | ロゴ画像のURL設定 | 5分 | ⬜ |
| A-3-4 | 会社印設定 | 印鑑画像のURL設定 | 5分 | ⬜ |
| A-3-5 | デモデータ整理 | 不要なデモ顧客・見積の削除 | 10分 | ⬜ |

---

## Phase B: 骨組み（コア機能の実用化）

### B-1. 見積管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-1-1 | 見積一覧表示確認 | DBデータの正常表示 | 5分 | ⬜ |
| B-1-2 | 見積検索・フィルタ確認 | ステータス、顧客名での絞り込み | 5分 | ⬜ |
| B-1-3 | 見積新規作成確認 | 顧客選択→明細入力→保存 | 10分 | ⬜ |
| B-1-4 | 見積編集確認 | 既存見積の編集・更新 | 5分 | ⬜ |
| B-1-5 | 粗利計算確認 | 原価→粗利率→売価の自動計算 | 5分 | ⬜ |
| B-1-6 | 見積PDF出力確認 | レイアウト、会社ロゴ、印鑑 | 10分 | ⬜ |
| B-1-7 | PDF調整（必要時） | A4横、項目配置の調整 | 30分 | ⬜ |
| B-1-8 | 見積コピー機能確認 | 既存見積からコピー作成 | 5分 | ⬜ |
| B-1-9 | CSV出力確認 | 見積一覧のCSVダウンロード | 3分 | ✅ |
| B-1-10 | 見積→受注確定フロー | ステータス変更→案件作成 | 10分 | ⬜ |

### B-2. 顧客管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-2-1 | 顧客一覧表示確認 | DBデータの正常表示 | 5分 | ⬜ |
| B-2-2 | 顧客検索確認 | 名前、住所での検索 | 5分 | ⬜ |
| B-2-3 | 顧客新規登録確認 | 個人/法人、連絡先入力 | 10分 | ⬜ |
| B-2-4 | 顧客編集確認 | 情報の更新 | 5分 | ⬜ |
| B-2-5 | 顧客詳細画面確認 | 見積・案件履歴の表示 | 5分 | ⬜ |
| B-2-6 | 顧客削除確認 | 削除時の関連データ処理 | 5分 | ⬜ |

### B-3. 案件管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-3-1 | 案件一覧表示確認 | DBデータの正常表示 | 5分 | ⬜ |
| B-3-2 | 案件ステータス管理 | planning→contracted→in_progress→completed | 10分 | ⬜ |
| B-3-3 | 案件詳細画面確認 | 顧客、見積、工程の紐付け | 5分 | ⬜ |
| B-3-4 | 案件編集確認 | 契約金額、予算、実績の更新 | 5分 | ⬜ |
| B-3-5 | 原価実績入力確認 | 予算vs実績の管理 | 10分 | ⬜ |

### B-4. マスタデータ整備
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-4-1 | 工事カテゴリ設計 | LinK社で使うカテゴリ一覧作成 | 15分 | ⬜ |
| B-4-2 | 工事カテゴリ登録 | マスタ管理画面で登録 | 10分 | ⬜ |
| B-4-3 | 材料マスタ設計 | よく使う材料と単価一覧作成 | 20分 | ⬜ |
| B-4-4 | 材料マスタ登録 | マスタ管理画面で登録 | 15分 | ⬜ |
| B-4-5 | 労務単価設計 | 職種と日当一覧作成 | 10分 | ⬜ |
| B-4-6 | 労務単価登録 | マスタ管理画面で登録 | 10分 | ⬜ |
| B-4-7 | マスタ編集機能確認 | 追加・編集・削除の動作 | 10分 | ⬜ |

### B-5. 請求管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-5-1 | 請求一覧表示確認 | DBデータの正常表示 | 5分 | ⬜ |
| B-5-2 | 請求書作成確認 | 案件から請求書生成 | 10分 | ⬜ |
| B-5-3 | 請求書PDF確認 | レイアウト、振込先情報 | 10分 | ⬜ |
| B-5-4 | 入金登録確認 | 入金日、金額の登録 | 5分 | ⬜ |
| B-5-5 | 入金ステータス確認 | 未入金→一部入金→入金済み | 5分 | ⬜ |

### B-6. 工程表
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| B-6-1 | 工程一覧表示確認 | ガントチャート表示 | 5分 | ⬜ |
| B-6-2 | 工程追加確認 | 工程名、期間、担当者 | 10分 | ⬜ |
| B-6-3 | 工程編集確認 | ドラッグ&ドロップ、進捗更新 | 10分 | ⬜ |
| B-6-4 | 工程依存関係確認 | 前工程→後工程の連携 | 10分 | ⬜ |

---

## Phase C: 肉付け（使い勝手向上）

### C-1. 写真管理
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| C-1-1 | 写真一覧表示確認 | 案件ごとの写真表示 | 5分 | ⬜ |
| C-1-2 | 写真アップロード実装 | Vercel Blob or Cloudinary | 60分 | ⬜ |
| C-1-3 | 写真フォルダ分け | before/during/after | 15分 | ⬜ |
| C-1-4 | 写真注釈機能確認 | 矢印、円、テキスト | 15分 | ⬜ |

### C-2. 書類作成
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| C-2-1 | 契約書テンプレート確認 | 2025年民法改正対応 | 15分 | ⬜ |
| C-2-2 | 契約書PDF生成確認 | 見積連携、自動入力 | 15分 | ⬜ |
| C-2-3 | 工事台帳生成確認 | 写真付きPDF | 20分 | ⬜ |

### C-3. HOUSE DNA
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| C-3-1 | 物件一覧表示確認 | 顧客紐付け | 5分 | ⬜ |
| C-3-2 | 物件登録確認 | 住所、構造、築年数 | 10分 | ⬜ |
| C-3-3 | 部材管理確認 | 屋根、外壁、設備等 | 15min | ⬜ |
| C-3-4 | 健康スコア確認 | 自動計算ロジック | 10分 | ⬜ |
| C-3-5 | メンテナンス推奨確認 | アラート表示 | 10分 | ⬜ |

### C-4. ダッシュボード・分析
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| C-4-1 | KPI表示確認 | 売上、粗利、受注率 | 5分 | ⬜ |
| C-4-2 | グラフ表示確認 | 月次推移 | 5分 | ⬜ |
| C-4-3 | ランキング確認 | 顧客別売上 | 5分 | ⬜ |
| C-4-4 | 要対応アラート確認 | 期限切れ見積等 | 5分 | ⬜ |

---

## Phase D: 商品化準備（将来）

### D-1. マルチテナント
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| D-1-1 | テナント分離設計 | companyIdベースの分離確認 | - | ⬜ |
| D-1-2 | 新規会社登録フロー | サインアップ→会社作成 | - | ⬜ |
| D-1-3 | オンボーディング | 初期設定ウィザード | - | ⬜ |

### D-2. 課金・サブスク
| ID | タスク | 詳細 | 所要時間 | 状態 |
|----|--------|------|----------|------|
| D-2-1 | Stripe連携設定 | アカウント、API設定 | - | ⬜ |
| D-2-2 | プラン設計 | Free/Pro/Enterprise | - | ⬜ |
| D-2-3 | 決済フロー実装 | Checkout Session | - | ⬜ |
| D-2-4 | Webhook処理 | 支払い完了→プラン更新 | - | ⬜ |

---

## 進捗サマリー

| Phase | タスク数 | 完了 | 進捗率 |
|-------|----------|------|--------|
| A: 土台固め | 19 | 0 | 0% |
| B: 骨組み | 37 | 1 | 3% |
| C: 肉付け | 17 | 0 | 0% |
| D: 商品化 | 7 | 0 | 0% |
| **合計** | **80** | **1** | **1%** |

---

## 今週の目標

### 最優先（今日〜明日）
- [ ] A-1-1〜A-1-10: Clerk認証設定
- [ ] A-2-1〜A-2-3: ユーザー管理

### 高優先（今週中）
- [ ] A-3-1〜A-3-5: 会社データ整備
- [ ] B-1-1〜B-1-10: 見積管理確認
- [ ] B-4-1〜B-4-7: マスタデータ整備

---

*このファイルは進捗に応じて更新してください*
